(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78928,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566);e.i(47167);var r=e.i(88844),l=e.i(75254);let d=(0,l.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),i=(0,l.default)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),c=(0,l.default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),n=(0,l.default)("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),o=(0,l.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var x=e.i(46696);function m({currentView:e,onViewChange:s}){let l=(0,a.useRouter)(),m=[{id:"dashboard",label:"Dashboard",icon:c},{id:"inventory",label:"Inventory",icon:r.Package},{id:"history",label:"History",icon:d},{id:"reports",label:"Reports",icon:i}],h=async()=>{if(window.confirm("Apakah Anda yakin ingin logout?"))try{let e=await fetch("/api/auth/logout",{method:"POST"});(await e.json()).success?(localStorage.removeItem("user"),x.toast.success("Logout berhasil"),l.push("/login")):x.toast.error("Logout gagal. Silakan coba lagi.")}catch(e){console.error("Logout error:",e),x.toast.error("Terjadi kesalahan. Silakan coba lagi.")}},u=JSON.parse(localStorage.getItem("user")||"{}");return(0,t.jsxs)("div",{className:"w-64 bg-gray-800 text-white flex flex-col h-full",children:[(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Inventory"})}),(0,t.jsx)("nav",{className:"flex-1 mt-6",children:m.map(a=>{let r=a.icon;return(0,t.jsxs)("button",{onClick:()=>s(a.id),className:`w-full flex items-center px-6 py-3 text-left hover:bg-gray-700 transition-colors ${e===a.id?"bg-gray-700 border-l-4 border-blue-500":""}`,children:[(0,t.jsx)(r,{className:"h-5 w-5 mr-3"}),a.label]},a.id)})}),(0,t.jsxs)("div",{className:"border-t border-gray-700",children:[(0,t.jsx)("div",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(o,{className:"h-5 w-5 mr-3 text-gray-400"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-white truncate",children:u.name||u.username||"User"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 truncate",children:u.role||"User"})]})]})}),(0,t.jsxs)("button",{onClick:h,className:"w-full flex items-center px-6 py-3 text-left hover:bg-red-600 transition-colors border-t border-gray-700",children:[(0,t.jsx)(n,{className:"h-5 w-5 mr-3"}),"Logout"]})]})]})}let h=(0,l.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),u=(0,l.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),g=(0,l.default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);function p({inventory:e,history:s}){let a=e.length,l=e.filter(e=>e.quantity<=e.minStock).length,d=e.reduce((e,t)=>e+t.price*t.quantity,0),i=s.slice(0,5),c=[...new Set(e.map(e=>e.category))].length,n=e.filter(e=>0===e.quantity).length,o=s.filter(e=>"added"===e.action).length,x=s.filter(e=>"updated"===e.action).length;return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,t.jsx)("p",{className:"text-gray-500 mt-1",children:"Overview of your inventory management"})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:a}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Across ",c," categories"]})]}),(0,t.jsx)("div",{className:"bg-blue-100 p-3 rounded-lg",children:(0,t.jsx)(r.Package,{className:"h-6 w-6 text-blue-600"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:["Rp ",d.toLocaleString("id-ID")]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Current inventory value"})]}),(0,t.jsx)("div",{className:"bg-green-100 p-3 rounded-lg",children:(0,t.jsx)(g,{className:"h-6 w-6 text-green-600"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock Alert"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-red-600 mt-2",children:l}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[n," out of stock"]})]}),(0,t.jsx)("div",{className:"bg-red-100 p-3 rounded-lg",children:(0,t.jsx)(h,{className:"h-6 w-6 text-red-600"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Recent Activity"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:s.length}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[o," added, ",x," updated"]})]}),(0,t.jsx)("div",{className:"bg-purple-100 p-3 rounded-lg",children:(0,t.jsx)(u,{className:"h-6 w-6 text-purple-600"})})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,t.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,t.jsx)(u,{className:"h-5 w-5 mr-2 text-gray-600"}),"Recent Activity"]})}),(0,t.jsx)("div",{className:"p-6",children:0===i.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"bg-gray-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(u,{className:"h-8 w-8 text-gray-400"})}),(0,t.jsx)("p",{className:"text-gray-500",children:"No recent activity"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Start by adding or updating items"})]}):(0,t.jsx)("div",{className:"space-y-4",children:i.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:`w-2 h-2 rounded-full ${"added"===e.action?"bg-green-500":"updated"===e.action?"bg-blue-500":"bg-red-500"}`}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.productName}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[e.action," by ",e.userName||"Unknown"]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-900",children:["added"===e.action?"+":"updated"===e.action?"Â±":"-",Math.abs(e.quantity)]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleDateString()})]})]},e.id))})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,t.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,t.jsx)(h,{className:"h-5 w-5 mr-2 text-red-600"}),"Low Stock Items"]})}),(0,t.jsx)("div",{className:"p-6",children:0===l?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(r.Package,{className:"h-8 w-8 text-green-600"})}),(0,t.jsx)("p",{className:"text-gray-500",children:"All items are well stocked"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"No items need attention"})]}):(0,t.jsxs)("div",{className:"space-y-3",children:[e.filter(e=>e.quantity<=e.minStock).slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-100",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.category})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:`text-sm font-bold ${0===e.quantity?"text-red-600":"text-orange-600"}`,children:[e.quantity," / ",e.minStock]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:0===e.quantity?"Out of stock":`Need ${e.minStock-e.quantity} more`})]})]},e.id)),l>5&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 text-center pt-2",children:["And ",l-5," more items..."]})]})})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Category Overview"})}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[...new Set(e.map(e=>e.category))].map(s=>{let a=e.filter(e=>e.category===s),r=a.reduce((e,t)=>e+t.price*t.quantity,0),l=a.filter(e=>e.quantity<=e.minStock).length;return(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900 text-sm mb-2",children:s}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,t.jsx)("span",{className:"font-medium",children:a.length})," items"]}),(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,t.jsxs)("span",{className:"font-medium",children:["Rp ",r.toLocaleString("id-ID")]})," value"]}),l>0&&(0,t.jsxs)("p",{className:"text-xs text-red-600",children:[(0,t.jsx)("span",{className:"font-medium",children:l})," low stock"]})]})]},s)})})})]})]})}let y=(0,l.default)("search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),j=(0,l.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),b=(0,l.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),N=(0,l.default)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),v=(0,l.default)("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),f=(0,l.default)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),w=(0,l.default)("circle-minus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);function k({items:e,onUpdate:a,onDelete:l,onRefresh:d}){let[i,c]=(0,s.useState)(""),[n,o]=(0,s.useState)("all"),m=e.filter(e=>{let t=e.name.toLowerCase().includes(i.toLowerCase())||e.category.toLowerCase().includes(i.toLowerCase())||e.sku.toLowerCase().includes(i.toLowerCase()),s="all"===n||e.category===n;return t&&s}),u=["all",...new Set(e.map(e=>e.category))],g=e.length,p=e.filter(e=>e.quantity<=e.minStock).length,k=e.reduce((e,t)=>e+t.price*t.quantity,0);return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Inventory"}),(0,t.jsx)("p",{className:"text-gray-500 mt-1",children:"Manage your inventory items"})]}),(0,t.jsxs)("button",{onClick:()=>window.location.href="/add",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[(0,t.jsx)(j,{className:"h-4 w-4"}),"Add Item"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:g})]}),(0,t.jsx)("div",{className:"bg-blue-100 p-3 rounded-lg",children:(0,t.jsx)(r.Package,{className:"h-6 w-6 text-blue-600"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock Alert"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-red-600 mt-2",children:p})]}),(0,t.jsx)("div",{className:"bg-red-100 p-3 rounded-lg",children:(0,t.jsx)(h,{className:"h-6 w-6 text-red-600"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:["Rp ",k.toLocaleString("id-ID")]})]}),(0,t.jsx)("div",{className:"bg-green-100 p-3 rounded-lg",children:(0,t.jsx)(v,{className:"h-6 w-6 text-green-600"})})]})})]}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(y,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by name, category, or SKU...",value:i,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,t.jsx)("div",{className:"md:w-48",children:(0,t.jsx)("select",{value:n,onChange:e=>o(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:u.map(e=>(0,t.jsx)("option",{value:e,children:"all"===e?"All Categories":e},e))})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:0===m.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(r.Package,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No items found"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:i||"all"!==n?"Try adjusting your filters or search terms":"Get started by adding your first item"}),(0,t.jsxs)("button",{onClick:()=>window.location.href="/add",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 inline-flex items-center gap-2",children:[(0,t.jsx)(j,{className:"h-4 w-4"}),"Add First Item"]})]}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(e=>{let s=e.quantity<=e.minStock,r=e.price*e.quantity;return(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["SKU: ",e.sku]}),e.location&&(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:["ðŸ“ ",e.location]})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full",children:e.category})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:`w-2 h-2 rounded-full mr-2 ${s?"bg-red-500":"bg-green-500"}`}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.quantity," ",e.unit]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["Min: ",e.minStock," ",e.unit]})]})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["Rp ",e.price.toLocaleString("id-ID")]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["Rp ",r.toLocaleString("id-ID")]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)("button",{onClick:()=>{let t=prompt(`Tambah stok untuk ${e.name}:`,"10");if(t&&!isNaN(Number(t))&&Number(t)>0){let s=prompt("Catatan (opsional):","Pembelian dari supplier");fetch(`/api/inventory/products/${e.id}/stock`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({quantity:Number(t),type:"add",notes:s||""})}).then(e=>e.json()).then(t=>{t.success?(x.toast.success(`Stok berhasil ditambah! ${t.data.change} ${e.unit}`),d()):x.toast.error(`Gagal tambah stok: ${t.message}`)}).catch(e=>{console.error("Error adding stock:",e),x.toast.error("Gagal tambah stok. Silakan coba lagi.")})}},className:"text-green-600 hover:text-green-900 p-1 hover:bg-green-50 rounded",title:"Tambah stok",children:(0,t.jsx)(f,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>{let t=prompt(`Jual ${e.name}:`,"1");if(t&&!isNaN(Number(t))&&Number(t)>0){let s=prompt("Catatan (opsional):","Pelanggan");fetch(`/api/inventory/products/${e.id}/stock`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({quantity:Number(t),type:"subtract",notes:s||""})}).then(e=>e.json()).then(t=>{t.success?(x.toast.success(`Stok berhasil dikurangi! ${t.data.change} ${e.unit}`),d()):x.toast.error(`Gagal kurangi stok: ${t.message}`)}).catch(e=>{console.error("Error reducing stock:",e),x.toast.error("Gagal kurangi stok. Silakan coba lagi.")})}},className:"text-orange-600 hover:text-orange-900 p-1 hover:bg-orange-50 rounded",title:"Jual/Kurangi stok",children:(0,t.jsx)(w,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>{let t=prompt(`Update quantity for ${e.name}:`,e.quantity.toString());t&&!isNaN(Number(t))&&a(e.id,{quantity:Number(t)})},className:"text-blue-600 hover:text-blue-900 p-1 hover:bg-blue-50 rounded",title:"Update quantity",children:(0,t.jsx)(b,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>{confirm(`Are you sure you want to delete ${e.name}?`)&&fetch(`/api/inventory/products/${e.id}`,{method:"DELETE"}).then(e=>e.json()).then(t=>{t.success?(l(e.id),alert("Item deleted successfully!")):alert(`Failed to delete: ${t.message}`)}).catch(e=>{console.error("Delete error:",e),alert("Failed to delete item. Please try again.")})},className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded",title:"Delete item",children:(0,t.jsx)(N,{className:"h-4 w-4"})})]})})]},e.id)})})]})})}),m.length>0&&(0,t.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 text-center text-sm text-gray-600",children:["Showing ",m.length," of ",e.length," items",i&&` for "${i}"`,"all"!==n&&` in ${n}`]})]})}function S({onSubmit:e}){let[a,r]=(0,s.useState)({name:"",description:"",category:"",quantity:0,minStock:0,price:0,location:"",sku:"",unit:"kg"});return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Add New Item"}),(0,t.jsx)("form",{onSubmit:t=>{t.preventDefault(),e(a),r({name:"",description:"",category:"",quantity:0,minStock:0,price:0,location:"",sku:"",unit:"kg"})},className:"max-w-2xl mx-auto",children:(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,t.jsx)("input",{type:"text",required:!0,value:a.name,onChange:e=>r({...a,name:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"SKU"}),(0,t.jsx)("input",{type:"text",required:!0,value:a.sku,onChange:e=>r({...a,sku:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"e.g. PROD-001"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Unit"}),(0,t.jsxs)("select",{value:a.unit,onChange:e=>r({...a,unit:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,t.jsx)("option",{value:"kg",children:"Kilogram"}),(0,t.jsx)("option",{value:"gr",children:"Gram"}),(0,t.jsx)("option",{value:"ltr",children:"Liter"}),(0,t.jsx)("option",{value:"ml",children:"Mililiter"}),(0,t.jsx)("option",{value:"pcs",children:"Pieces/Pcs"}),(0,t.jsx)("option",{value:"dus",children:"Dus/Kardus"}),(0,t.jsx)("option",{value:"karung",children:"Karung"}),(0,t.jsx)("option",{value:"botol",children:"Botol"}),(0,t.jsx)("option",{value:"kaleng",children:"Kaleng"}),(0,t.jsx)("option",{value:"bungkus",children:"Bungkus/Sachet"}),(0,t.jsx)("option",{value:"rim",children:"Rim"}),(0,t.jsx)("option",{value:"pack",children:"Pack/Pak"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),(0,t.jsx)("input",{type:"text",required:!0,value:a.category,onChange:e=>r({...a,category:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Quantity"}),(0,t.jsx)("input",{type:"number",required:!0,value:a.quantity,onChange:e=>r({...a,quantity:parseInt(e.target.value)}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Min Stock"}),(0,t.jsx)("input",{type:"number",required:!0,value:a.minStock,onChange:e=>r({...a,minStock:parseInt(e.target.value)}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Price (Rp)"}),(0,t.jsx)("input",{type:"number",step:"0.01",required:!0,value:a.price,onChange:e=>r({...a,price:parseFloat(e.target.value)}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"e.g. 50000"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),(0,t.jsx)("input",{type:"text",value:a.location,onChange:e=>r({...a,location:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,t.jsx)("textarea",{value:a.description,onChange:e=>r({...a,description:e.target.value}),rows:3,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700",children:"Add Item"})})]})})]})}let q=(0,l.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),C=(0,l.default)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);function L({items:e}){let[a,l]=(0,s.useState)(""),[d,i]=(0,s.useState)("all"),c=e.filter(e=>{let t=e.productName.toLowerCase().includes(a.toLowerCase())||e.userName.toLowerCase().includes(a.toLowerCase()),s="all"===d||e.action===d;return t&&s}),n={added:e.filter(e=>"added"===e.action).length,updated:e.filter(e=>"updated"===e.action).length,deleted:e.filter(e=>"deleted"===e.action).length};return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsx)("div",{className:"flex justify-between items-center",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"History"}),(0,t.jsx)("p",{className:"text-gray-500 mt-1",children:"Track all inventory changes and activities"})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Activities"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:e.length})]}),(0,t.jsx)("div",{className:"bg-purple-100 p-3 rounded-lg",children:(0,t.jsx)(C,{className:"h-6 w-6 text-purple-600"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Items Added"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600 mt-2",children:n.added})]}),(0,t.jsx)("div",{className:"bg-green-100 p-3 rounded-lg",children:(0,t.jsx)(j,{className:"h-6 w-6 text-green-600"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Items Updated"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:n.updated})]}),(0,t.jsx)("div",{className:"bg-blue-100 p-3 rounded-lg",children:(0,t.jsx)(q,{className:"h-6 w-6 text-blue-600"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Items Deleted"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-red-600 mt-2",children:n.deleted})]}),(0,t.jsx)("div",{className:"bg-red-100 p-3 rounded-lg",children:(0,t.jsx)(N,{className:"h-6 w-6 text-red-600"})})]})})]}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(y,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by product name or user...",value:a,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,t.jsx)("div",{className:"md:w-48",children:(0,t.jsxs)("select",{value:d,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"all",children:"All Actions"}),(0,t.jsx)("option",{value:"added",children:"Added"}),(0,t.jsx)("option",{value:"updated",children:"Updated"}),(0,t.jsx)("option",{value:"deleted",children:"Deleted"})]})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:0===c.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(C,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No history found"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:a||"all"!==d?"Try adjusting your filters or search terms":"No activities recorded yet"})]}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(e=>{let s,{date:a,time:l}={date:(s=new Date(e.timestamp)).toLocaleDateString("id-ID"),time:s.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})},d=(e=>{switch(e){case"added":return"bg-green-100 text-green-800 border-green-200";case"updated":return"bg-blue-100 text-blue-800 border-blue-200";case"deleted":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(e.action);return(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(r.Package,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.productName}),e.details&&(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.details})]})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${d}`,children:[(e=>{switch(e){case"added":return(0,t.jsx)(j,{className:"h-4 w-4"});case"updated":return(0,t.jsx)(q,{className:"h-4 w-4"});case"deleted":return(0,t.jsx)(N,{className:"h-4 w-4"});default:return(0,t.jsx)(r.Package,{className:"h-4 w-4"})}})(e.action),(0,t.jsx)("span",{className:"ml-1",children:e.action})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["added"===e.action?"+":"deleted"===e.action?"-":"Â±",Math.abs(e.quantity)]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(o,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,t.jsx)("span",{className:"text-sm text-gray-900",children:e.userName})]})}),(0,t.jsxs)("td",{className:"px-6 py-4",children:[(0,t.jsx)("div",{className:"text-sm text-gray-900",children:a}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:l})]})]},e.id)})})]})})}),c.length>0&&(0,t.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 text-center text-sm text-gray-600",children:["Showing ",c.length," of ",e.length," activities",a&&` for "${a}"`,"all"!==d&&` with action "${d}"`]})]})}function A({inventory:e,history:s}){let a=e.reduce((e,t)=>e+t.price*t.quantity,0),r=e.filter(e=>e.quantity<=e.minStock),l=e.reduce((e,t)=>(e[t.category]=(e[t.category]||0)+1,e),{});return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Reports"}),(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Inventory Summary"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Total Items"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Total Value"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["Rp ",a.toLocaleString("id-ID")]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Low Stock Items"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-red-600",children:r.length})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Categories"}),(0,t.jsx)("div",{className:"space-y-2",children:Object.entries(l).map(([e,s])=>(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-700",children:e}),(0,t.jsxs)("span",{className:"font-medium",children:[s," items"]})]},e))})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Low Stock Alert"}),0===r.length?(0,t.jsx)("p",{className:"text-gray-500",children:"No items are low in stock"}):(0,t.jsx)("div",{className:"space-y-2",children:r.map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center p-2 bg-red-50 rounded",children:[(0,t.jsx)("span",{className:"font-medium",children:e.name}),(0,t.jsxs)("span",{className:"text-red-600",children:[e.quantity," / ",e.minStock]})]},e.id))})]})]})]})}var I=e.i(33242);function M(){let[e,a]=(0,s.useState)("dashboard"),[r,l]=(0,s.useState)([]),[d,i]=(0,s.useState)([]),[c,n]=(0,s.useState)(!0);(0,s.useEffect)(()=>{o()},[]);let o=async()=>{try{console.log("ðŸ”„ Starting data load..."),console.log("ðŸŒ API_BASE:","http://localhost:3000/api");let[e,t]=await Promise.all([I.inventoryService.getAllProducts(),I.inventoryService.getAllHistory()]);console.log("âœ… Data loaded successfully"),console.log("ðŸ“¦ Inventory:",e),console.log("ðŸ“œ History:",t),l(e),i(t)}catch(e){console.error("âŒ Load data error:",e),console.error("âŒ Error details:",{message:e.message,stack:e.stack,name:e.name}),x.toast.error(`Failed to load data: ${e.message}`)}finally{n(!1)}},h=async e=>{window.location.href="/add"},u=async(e,t)=>{try{await I.inventoryService.updateProduct(e,t),l(r.map(s=>s.id===e?{...s,...t}:s)),x.toast.success("Item updated successfully")}catch(e){x.toast.error("Failed to update item")}},g=async e=>{try{await I.inventoryService.deleteProduct(e),l(r.filter(t=>t.id!==e)),x.toast.success("Item deleted successfully")}catch(e){x.toast.error("Failed to delete item")}};return(0,t.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,t.jsx)(m,{currentView:e,onViewChange:a}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto",children:(()=>{if(c)return(0,t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});switch(e){case"dashboard":default:return(0,t.jsx)(p,{inventory:r,history:d});case"inventory":return(0,t.jsx)(k,{items:r,onUpdate:u,onDelete:g,onRefresh:o});case"add":return(0,t.jsx)(S,{onSubmit:h});case"history":return(0,t.jsx)(L,{items:d});case"reports":return(0,t.jsx)(A,{inventory:r,history:d})}})()}),(0,t.jsx)(x.Toaster,{position:"top-right"})]})}function P(){let e=(0,a.useRouter)(),[r,l]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{(async()=>{try{if(!localStorage.getItem("user"))return void e.push("/login");l(!1)}catch(t){console.error("Auth verification error:",t),e.push("/login")}})()},[e]),r)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Authenticating..."})]})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M,{}),(0,t.jsx)(x.Toaster,{position:"top-right"})]})}e.s(["default",()=>P],78928)}]);